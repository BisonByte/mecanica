const translations = {
    es: {
        'brand-title': 'Mecánica Estructural Pro',
        'brand-subtitle': 'Simulador web para ingeniería moderna',
        'nav-overview': 'Visión general',
        'nav-features': 'Capacidades',
        'nav-workflow': 'Flujo de acceso',
        'nav-access': 'Ingreso',
        'nav-admin': 'Panel admin',
        'header-cta': 'Entrar al software',
        'hero-subtitle': 'Simulaciones avanzadas desde cualquier dispositivo.',
        'hero-title': 'Analiza estructuras con precisión de clase profesional',
        'hero-description': 'Combina cálculo automatizado, reportes dinámicos y una gestión clara de usuarios para tu organización.',
        'hero-bullet-1': 'Modelos de vigas con cargas puntuales y distribuidas.',
        'hero-bullet-2': 'Resultados visuales listos para reportes ejecutivos.',
        'hero-bullet-3': 'Gestión de accesos con aprobación centralizada.',
        'hero-cta-primary': 'Acceso al simulador',
        'hero-cta-secondary': 'Conoce más',
        'hero-footnote': 'Los administradores también ingresan desde el portal de usuarios para mantener un único punto de acceso.',
        'stat-1-label': 'Proyectos analizados',
        'stat-1-value': '1200+',
        'stat-1-caption': 'Resultados auditados y listos para ingeniería.',
        'stat-2-label': 'Tiempos de cálculo',
        'stat-2-value': '< 10 s',
        'stat-2-caption': 'Promedio en escenarios complejos.',
        'stat-3-label': 'Satisfacción',
        'stat-3-value': '98%',
        'stat-3-caption': 'Equipos que confían en la plataforma.',
        'features-title': 'Diseñado para equipos exigentes',
        'features-description': 'Cada módulo fue creado para brindar confianza y velocidad en tus entregables técnicos.',
        'feature-1-title': 'Motor de cálculo robusto',
        'feature-1-description': 'Utiliza algoritmos validados para reacciones, diagramas de cortante, momento flector y torsor.',
        'feature-2-title': 'Reportes claros',
        'feature-2-description': 'Descarga resultados en formatos ejecutivos y comparte escenarios preconfigurados.',
        'feature-3-title': 'Experiencia impecable',
        'feature-3-description': 'Interfaz adaptativa, accesible y lista para ambientes corporativos.',
        'workflow-title': 'Proceso de incorporación sencillo',
        'workflow-description': 'Desde la solicitud hasta el acceso total en minutos.',
        'workflow-step-1-title': 'Registro de usuario',
        'workflow-step-1-description': 'Completa el formulario con un correo válido para identificar la cuenta.',
        'workflow-step-2-title': 'Estado: Esperando aprobación',
        'workflow-step-2-description': 'El solicitante puede revisar el portal y ver el estado hasta que un administrador lo apruebe.',
        'workflow-step-3-title': 'Aprobación del administrador',
        'workflow-step-3-description': 'El panel central muestra usuarios en línea, aprobados y rechazados para controlar accesos.',
        'workflow-step-4-title': 'Ingreso al software',
        'workflow-step-4-description': 'Una vez aprobado, el usuario y los administradores utilizan el mismo inicio de sesión.',
        'access-title': 'Punto de acceso unificado',
        'access-description': 'Mantén toda la operación controlada desde un único portal.',
        'software-card-title': 'Acceso al software',
        'software-card-description': 'Ingresa directamente al simulador con tu usuario aprobado.',
        'software-card-button': 'Iniciar simulador',
        'software-card-note': 'Disponible únicamente para cuentas aprobadas por un administrador.',
        'login-card-title': 'Inicio de sesión',
        'login-card-description': 'Acceso para usuarios aprobados y administradores.',
        'login-email-label': 'Correo electrónico',
        'login-email-placeholder': 'nombre@empresa.com',
        'login-password-label': 'Contraseña',
        'login-password-placeholder': '********',
        'login-submit': 'Iniciar sesión',
        'login-forgot': '¿Olvidaste tu contraseña?',
        'register-card-title': 'Crear cuenta',
        'register-card-description': 'Solicita acceso y sigue el estado de aprobación.',
        'register-name-label': 'Nombre completo',
        'register-name-placeholder': 'Ingresa tu nombre',
        'register-email-label': 'Correo corporativo',
        'register-email-placeholder': 'usuario@empresa.com',
        'register-role-label': 'Rol esperado',
        'register-role-placeholder': 'Ej. Ingeniero estructural',
        'register-status-label': 'Estado actual',
        'register-status-value': 'Esperando aprobación',
        'register-submit': 'Enviar solicitud',
        'register-help': 'Puedes registrar un correo inicial y actualizarlo luego desde la configuración administrativa.',
        'admin-title': 'Panel administrativo claro',
        'admin-description': 'Monitorea aprobaciones y actividad en tiempo real.',
        'admin-card-online': 'Usuarios en línea',
        'admin-card-online-detail': 'Actividad concurrente monitoreada al instante.',
        'admin-card-approved': 'Aprobados',
        'admin-card-approved-detail': 'Controla quién tiene acceso operativo.',
        'admin-card-rejected': 'Rechazados',
        'admin-card-rejected-detail': 'Historial transparente para auditorías.',
        'admin-tip': 'Todos los administradores y usuarios utilizan el mismo inicio de sesión. Los administradores pueden actualizar correos desde la configuración del panel.',
        'footer-cta': '¿Listo para potenciar tus análisis estructurales?',
    },
    en: {
        'brand-title': 'Structural Mechanics Pro',
        'brand-subtitle': 'Web simulator for modern engineering',
        'nav-overview': 'Overview',
        'nav-features': 'Capabilities',
        'nav-workflow': 'Access flow',
        'nav-access': 'Entry',
        'nav-admin': 'Admin panel',
        'header-cta': 'Enter the software',
        'hero-subtitle': 'Advanced simulations on any device.',
        'hero-title': 'Analyze structures with professional-grade accuracy',
        'hero-description': 'Combine automated calculations, dynamic reports, and transparent user management for your organisation.',
        'hero-bullet-1': 'Beam models with point and distributed loads.',
        'hero-bullet-2': 'Visual results ready for executive reporting.',
        'hero-bullet-3': 'Access management with centralized approval.',
        'hero-cta-primary': 'Simulator access',
        'hero-cta-secondary': 'Learn more',
        'hero-footnote': 'Administrators also sign in through the user portal to maintain a single entry point.',
        'stat-1-label': 'Projects evaluated',
        'stat-1-value': '1200+',
        'stat-1-caption': 'Audited results ready for engineering teams.',
        'stat-2-label': 'Computation time',
        'stat-2-value': '< 10 s',
        'stat-2-caption': 'Average under complex scenarios.',
        'stat-3-label': 'Satisfaction',
        'stat-3-value': '98%',
        'stat-3-caption': 'Teams that rely on the platform.',
        'features-title': 'Built for demanding teams',
        'features-description': 'Every module was crafted to deliver confidence and speed in your technical deliverables.',
        'feature-1-title': 'Robust calculation engine',
        'feature-1-description': 'Employs validated algorithms for reactions, shear, bending moment, and torsor diagrams.',
        'feature-2-title': 'Clear reporting',
        'feature-2-description': 'Download executive-grade outputs and share curated scenarios.',
        'feature-3-title': 'Polished experience',
        'feature-3-description': 'Adaptive, accessible interface ready for corporate environments.',
        'workflow-title': 'Onboarding made simple',
        'workflow-description': 'From request to full access in minutes.',
        'workflow-step-1-title': 'User registration',
        'workflow-step-1-description': 'Complete the form with a valid email to identify the account.',
        'workflow-step-2-title': 'Status: Awaiting approval',
        'workflow-step-2-description': 'Applicants can monitor the portal and see the status until an administrator approves them.',
        'workflow-step-3-title': 'Administrator approval',
        'workflow-step-3-description': 'The central panel highlights online, approved, and rejected users for precise control.',
        'workflow-step-4-title': 'Software access',
        'workflow-step-4-description': 'Once approved, users and administrators leverage the same login experience.',
        'access-title': 'Unified access point',
        'access-description': 'Keep your entire operation controlled from a single portal.',
        'software-card-title': 'Software access',
        'software-card-description': 'Enter the simulator directly with your approved account.',
        'software-card-button': 'Launch simulator',
        'software-card-note': 'Available only for accounts approved by an administrator.',
        'login-card-title': 'Sign in',
        'login-card-description': 'Access for approved users and administrators.',
        'login-email-label': 'Email address',
        'login-email-placeholder': 'name@company.com',
        'login-password-label': 'Password',
        'login-password-placeholder': '********',
        'login-submit': 'Log in',
        'login-forgot': 'Forgot your password?',
        'register-card-title': 'Create account',
        'register-card-description': 'Request access and monitor the approval status.',
        'register-name-label': 'Full name',
        'register-name-placeholder': 'Enter your name',
        'register-email-label': 'Corporate email',
        'register-email-placeholder': 'user@company.com',
        'register-role-label': 'Expected role',
        'register-role-placeholder': 'e.g. Structural engineer',
        'register-status-label': 'Current status',
        'register-status-value': 'Awaiting approval',
        'register-submit': 'Submit request',
        'register-help': 'You can provide an initial email and update it later within the admin settings.',
        'admin-title': 'Clear administrative panel',
        'admin-description': 'Monitor approvals and activity in real time.',
        'admin-card-online': 'Users online',
        'admin-card-online-detail': 'Concurrent activity tracked instantly.',
        'admin-card-approved': 'Approved',
        'admin-card-approved-detail': 'Keep tight control on who has operational access.',
        'admin-card-rejected': 'Rejected',
        'admin-card-rejected-detail': 'Transparent history for audits.',
        'admin-tip': 'Administrators and users share the same login. Admins can update emails from the panel settings.',
        'footer-cta': 'Ready to elevate your structural analyses?',
    },
};

const STORAGE_KEY = 'mechanics.landing.language';
const DEFAULT_LANG = 'es';

function applyLanguage(lang) {
    const dictionary = translations[lang] ?? translations[DEFAULT_LANG];

    document.documentElement.lang = lang;

    document.querySelectorAll('[data-l10n]').forEach((element) => {
        const key = element.dataset.l10n;
        const value = dictionary[key];
        if (typeof value !== 'undefined') {
            element.innerHTML = value;
        }
    });

    document.querySelectorAll('[data-l10n-placeholder]').forEach((element) => {
        const key = element.dataset.l10nPlaceholder;
        const value = dictionary[key];
        if (typeof value !== 'undefined') {
            element.setAttribute('placeholder', value);
        }
    });

    document.querySelectorAll('[data-lang]').forEach((button) => {
        button.classList.toggle('is-active', button.dataset.lang === lang);
    });
}

function initLanguageToggle() {
    const storedLang = window.localStorage?.getItem(STORAGE_KEY);
    const initialLang = Object.prototype.hasOwnProperty.call(translations, storedLang) ? storedLang : DEFAULT_LANG;

    applyLanguage(initialLang);

    document.querySelectorAll('[data-lang]').forEach((button) => {
        button.addEventListener('click', () => {
            const lang = button.dataset.lang;
            if (!Object.prototype.hasOwnProperty.call(translations, lang)) {
                return;
            }
            window.localStorage?.setItem(STORAGE_KEY, lang);
            applyLanguage(lang);
        });
    });
}

if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', initLanguageToggle);
} else {
    initLanguageToggle();
}
